2025-10-29 17:48:07.914 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-29 17:48:08.003 +00:00 [INF] User profile is available. Using 'C:\Users\Owner\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-29 17:48:08.130 +00:00 [INF] Now listening on: http://localhost:5163
2025-10-29 17:48:08.134 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-29 17:48:08.135 +00:00 [INF] Hosting environment: Development
2025-10-29 17:48:08.137 +00:00 [INF] Content root path: C:\Git\OakTires\code\UserManagementApi
2025-10-29 17:48:08.833 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5163/swagger/v1/swagger.json - null null
2025-10-29 17:48:08.976 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5163/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 153.3337ms
2025-10-29 17:48:14.738 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5163/auth/register - application/json 166
2025-10-29 17:48:14.833 +00:00 [INF] Executing endpoint 'UserManagementApi.Controllers.AuthController.Register (UserManagementApi)'
2025-10-29 17:48:14.860 +00:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(UserManagementApi.DTO.RegisterDto) on controller UserManagementApi.Controllers.AuthController (UserManagementApi).
2025-10-29 17:48:15.054 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__dto_Username_0='?' (Size = 4000), @__dto_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Username] = @__dto_Username_0 OR [u].[Email] = @__dto_Email_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-29 17:48:15.059 +00:00 [WRN] Registration failed for apitestuser
2025-10-29 17:48:15.067 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-29 17:48:15.073 +00:00 [INF] Executed action UserManagementApi.Controllers.AuthController.Register (UserManagementApi) in 206.7625ms
2025-10-29 17:48:15.075 +00:00 [INF] Executed endpoint 'UserManagementApi.Controllers.AuthController.Register (UserManagementApi)'
2025-10-29 17:48:15.081 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5163/auth/register - 400 null text/plain; charset=utf-8 344.232ms
2025-10-29 17:48:15.085 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5163/auth/login - application/json 70
2025-10-29 17:48:15.089 +00:00 [INF] Executing endpoint 'UserManagementApi.Controllers.AuthController.Login (UserManagementApi)'
2025-10-29 17:48:15.095 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(UserManagementApi.DTO.LoginDto) on controller UserManagementApi.Controllers.AuthController (UserManagementApi).
2025-10-29 17:48:15.235 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__dto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FirstName], [u].[LastLoginAt], [u].[LastName], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__dto_Username_0
2025-10-29 17:48:15.687 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-29 17:48:15.727 +00:00 [INF] User logged in: apitestuser
2025-10-29 17:48:15.731 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-29 17:48:15.749 +00:00 [INF] Executed action UserManagementApi.Controllers.AuthController.Login (UserManagementApi) in 650.9374ms
2025-10-29 17:48:15.754 +00:00 [INF] Executed endpoint 'UserManagementApi.Controllers.AuthController.Login (UserManagementApi)'
2025-10-29 17:48:15.757 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5163/auth/login - 200 null application/json; charset=utf-8 671.5986ms
2025-10-29 17:48:15.761 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5163/users - null null
2025-10-29 17:48:15.806 +00:00 [INF] Executing endpoint 'UserManagementApi.Controllers.UsersController.GetAllUsers (UserManagementApi)'
2025-10-29 17:48:15.811 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller UserManagementApi.Controllers.UsersController (UserManagementApi).
2025-10-29 17:48:20.040 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Username], [u].[Email], [u].[FirstName], [u].[LastName], [u].[CreatedAt], [u].[LastLoginAt]
FROM [Users] AS [u]
2025-10-29 17:48:20.049 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[UserManagementApi.DTO.UserDto, UserManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-29 17:48:20.071 +00:00 [INF] Executed action UserManagementApi.Controllers.UsersController.GetAllUsers (UserManagementApi) in 4257.8888ms
2025-10-29 17:48:20.074 +00:00 [INF] Executed endpoint 'UserManagementApi.Controllers.UsersController.GetAllUsers (UserManagementApi)'
2025-10-29 17:48:20.077 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5163/users - 200 null application/json; charset=utf-8 4315.7216ms
2025-10-29 17:48:20.083 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5163/users/598d6c24-095f-48db-bf77-04e12c67f39a - null null
2025-10-29 17:48:20.088 +00:00 [INF] Executing endpoint 'UserManagementApi.Controllers.UsersController.GetUserById (UserManagementApi)'
2025-10-29 17:48:20.094 +00:00 [INF] Route matched with {action = "GetUserById", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserById(System.Guid) on controller UserManagementApi.Controllers.UsersController (UserManagementApi).
2025-10-29 17:48:20.138 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FirstName], [u].[LastLoginAt], [u].[LastName], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-10-29 17:48:20.143 +00:00 [INF] Executing OkObjectResult, writing value of type 'UserManagementApi.DTO.UserDto'.
2025-10-29 17:48:20.144 +00:00 [INF] Executed action UserManagementApi.Controllers.UsersController.GetUserById (UserManagementApi) in 48.1771ms
2025-10-29 17:48:20.146 +00:00 [INF] Executed endpoint 'UserManagementApi.Controllers.UsersController.GetUserById (UserManagementApi)'
2025-10-29 17:48:20.147 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5163/users/598d6c24-095f-48db-bf77-04e12c67f39a - 200 null application/json; charset=utf-8 63.6037ms
2025-10-29 17:48:20.151 +00:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5163/users/598d6c24-095f-48db-bf77-04e12c67f39a - application/json 109
2025-10-29 17:48:20.154 +00:00 [INF] Executing endpoint 'UserManagementApi.Controllers.UsersController.UpdateUser (UserManagementApi)'
2025-10-29 17:48:20.158 +00:00 [INF] Route matched with {action = "UpdateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(System.Guid, UserManagementApi.DTO.UpdateUserDto) on controller UserManagementApi.Controllers.UsersController (UserManagementApi).
2025-10-29 17:48:20.170 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FirstName], [u].[LastLoginAt], [u].[LastName], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-10-29 17:48:20.177 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [FirstName] = @p1, [LastName] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-10-29 17:48:20.180 +00:00 [INF] User updated: "598d6c24-095f-48db-bf77-04e12c67f39a"
2025-10-29 17:48:20.183 +00:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-10-29 17:48:20.184 +00:00 [INF] Executed action UserManagementApi.Controllers.UsersController.UpdateUser (UserManagementApi) in 22.3254ms
2025-10-29 17:48:20.186 +00:00 [INF] Executed endpoint 'UserManagementApi.Controllers.UsersController.UpdateUser (UserManagementApi)'
2025-10-29 17:48:20.188 +00:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5163/users/598d6c24-095f-48db-bf77-04e12c67f39a - 204 null null 36.9369ms
2025-10-29 17:48:20.195 +00:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5163/users/598d6c24-095f-48db-bf77-04e12c67f39a - null 0
2025-10-29 17:48:20.199 +00:00 [INF] Executing endpoint 'UserManagementApi.Controllers.UsersController.DeleteUser (UserManagementApi)'
2025-10-29 17:48:20.203 +00:00 [INF] Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(System.Guid) on controller UserManagementApi.Controllers.UsersController (UserManagementApi).
2025-10-29 17:48:20.209 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FirstName], [u].[LastLoginAt], [u].[LastName], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-10-29 17:48:20.229 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2025-10-29 17:48:20.235 +00:00 [INF] User deleted: "598d6c24-095f-48db-bf77-04e12c67f39a"
2025-10-29 17:48:20.236 +00:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-10-29 17:48:20.236 +00:00 [INF] Executed action UserManagementApi.Controllers.UsersController.DeleteUser (UserManagementApi) in 31.7847ms
2025-10-29 17:48:20.238 +00:00 [INF] Executed endpoint 'UserManagementApi.Controllers.UsersController.DeleteUser (UserManagementApi)'
2025-10-29 17:48:20.239 +00:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5163/users/598d6c24-095f-48db-bf77-04e12c67f39a - 204 null null 43.0818ms
